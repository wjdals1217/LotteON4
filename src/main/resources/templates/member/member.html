<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">    
    <title>롯데ON::롯데 온라인 쇼핑몰</title>
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/main/favicon.ico}" />
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">
    <link rel="stylesheet" th:href="@{/css/main/common.css}"/>
    <link rel="stylesheet" th:href="@{/css/member/member.css}"/>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script th:src="@{/js/member/zipcode.js}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://kit.fontawesome.com/20962f3e4b.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
    <script th:src="@{/js/member/validation.js}"></script>
    <script th:src="@{/js/member/checkUser.js}"></script>
    <script th:src="@{/js/member/authEmail.js}"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        const success = /*[[${success}]]*/;
        console.log("success : "+success);
        $(function() {
            if (success == 200) {
                alert("회원가입이 완료되었습니다.");
            }else if (success == 100){
                alert("로그아웃이 완료되었습니다.");
            }
            // manager 이름 등록 시 input에 name 데이터 추가
            $('input[name=manager]').focusout(function () {
                const manager = $(this).val();
                console.log(manager);
                $('input[name=name]').val(manager);
            });

        });
        /*]]>*/
    </script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        window.onload=function(){

            const agree1=document.getElementsByName('agree1')[0];
            console.log(agree1);
            const agree2=document.getElementsByName('agree2')[0];
            console.log(agree2);
            const agree3=document.getElementsByName('agree3')[0];
            console.log(agree3);

            const agree=document.querySelector('.agree');
            const type= /*[[${type}]]*/;
            console.log(type);

            agree.addEventListener('click',function(e){
                console.log(type);
                e.preventDefault();


                if(type=='1'){
                    if(agree1.checked==false){
                        alert('이용약관에 동의하셔야합니다')
                        return;
                    }else if(agree2.checked==false){
                        alert('전자금융거래 이용약관에 동의하셔야 합니다')
                        return;
                    }else if(agree3.checked==false){
                        alert('개인정보 취급방침에 동의하셔야 합니다')
                        return;
                    }else {
                        location.href='/LotteON/member/register?type=1'
                    }
                }else if (type=='2'){
                    if(agree1.checked==false){
                        alert('이용약관에 동의하셔야합니다')
                        return;
                    }else if(agree2.checked==false){
                        alert('전자금융거래 이용약관에 동의하셔야 합니다')
                        return;
                    }else if(agree3.checked==false){
                        alert('개인정보 취급방침에 동의하셔야 합니다')
                        return;
                    }else {
                        location.href='/LotteON/member/registerSeller?type=2'
                    }

                }

            })
        }
        /*]]>*/
    </script>
    <script>
        const HpAutoHyphen = (target) => {
            target.value = target.value
                .replace(/[^0-9]/g, '') //숫자가 아닌 문자를 모두 제거
                .replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3") //자동(000-0000-0000) 하이픈 형식으로 변환
                .replace(/(\-{1,2})$/g, ""); //번호입력 시 자동 하이픈 반복에서 연속된 하이픈을 모두 제거
        }
        const BizNumAutoHyphen = (target) => {
            target.value = target.value
                .replace(/[^0-9]/, '') //숫자가 아닌 문자를 모두 제거
                .replace(/^(\d{0,3})(\d{0,2})(\d{0,5})$/g, "$1-$2-$3") //자동(000-00-00000) 하이픈 형식으로 변환
                .replace(/(\-{1,2})$/g, ""); //번호입력 시 자동 하이픈 반복에서 연속된 하이픈을 모두 제거
        }

        const TelAutoHyphen = (target) => {
            target.value = target.value
                .replace(/[^0-9]/g, '') //숫자가 아닌 문자를 모두 제거
                .replace(/^(\d{2,3})(\d{3})(\d{4})$/, `$1-$2-$3`); //자동(00(0)-000-0000) 하이픈 형식으로 변환
            //모두 입력 후 하이픈 생성
        }

        const FaxAutoHyphen = (target) => {
            target.value = target.value
                .replace(/[^0-9]/g, '') //숫자가 아닌 문자를 모두 제거
                .replace(/^(\d{2,3})(\d{3})(\d{4})$/, `$1-$2-$3`); //자동(00(0)-000-0000) 하이픈 형식으로 변환
            //모두 입력 후 하이픈 생성
        }
    </script>
    <script>
        $("input[name=gender]").change(function(){
            var checked = $("input[name=gender]:checked").val();
        });
    </script>
</head>
<body>
    <div id="wrapper">
        <header>
            <div class="top">
                <div>
                    <th:block sec:authorize="isAnonymous()">
                        <a th:href="@{/member/login}">로그인</a>
                        <a th:href="@{/member/join}">회원가입</a>
                    </th:block>
                    <th:block sec:authorize="isAuthenticated()">
                        <a href="#" >[[${#authentication.principal.member.name}]]</a>
                        <th:block sec:authorize="hasRole('1')">
                            <a href="#">마이페이지</a>
                        </th:block>
                        <th:block sec:authorize="hasAnyRole('2','3')" >
                            <a th:href="@{/admin/index}">관리자</a>
                        </th:block>
                        <a th:href="@{/member/logout}">로그아웃</a>
                        <a href="#">
                            <i class="fa fa-shopping-cart" aria-hidden="true"></i>&nbsp;
                            장바구니
                        </a>
                    </th:block>
                </div>
            </div>
            <div class="logo">
                <div>
                    <a th:href="@{/}"><img th:src="@{/images/main/header_logo.png}" alt="로고"/></a>
                </div>
            </div>
        </header>
        <main id="member">
            <div layout:fragment="content"></div>
        </main>        
        <footer>
            <ul>
              <li><a href="#">회사소개</a></li>
              <li><a href="#">서비스이용약관</a></li>
              <li><a href="#">개인정보처리방침</a></li>
              <li><a href="#">전자금융거래약관</a></li>
            </ul>
            <div>
              <p><img th:src="@{/images/main/footer_logo.png}" alt="로고" /></p>
              <p>
                <strong>(주)롯데ON</strong><br />
                서울특별시 송파구 올림픽로 300 롯데월드타워 26층 (역삼동 강남파이낸스센터)<br />
                대표이사 : 김사무엘상현, 정준호, 강성현<br />
                사업자등록번호 : 529-85-00774(롯데쇼핑(주) e커머스사업부)<br />
                통신판매업 신고 : 서울송파 제0158호<br>
                호스팅 서비스사업자 : 롯데쇼핑(주) e커머스사업부
              </p>
              <p>
                <strong>고객센터</strong><br />
                Tel : 1899-7000(유료) (평일 09:00~18:00)<br />
                Fax : 051-123-4567 | E-mail : lotteon@lotte.net<br />
                App Version:[[${appInfo}]]
              </p>
            </div>
          </footer>
    </div>    
</body>
</html>